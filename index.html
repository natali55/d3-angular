<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section><h3>D3 Data Visualization</h3></section>

        <section>
            <section>WHAT IS D3.js?</section>
            <section>
                <p>Data-Driven Documents</p>
                <p class="fragment fade-down">JavaScript library for manipulating documents based on data</p>
                <p class="fragment fade-down">It allows to bind data to a Document Object Model (DOM)</p>
                <p class="fragment fade-down">It helps to bring data to life using HTML, SVG, and CSS</p>
                <p class="fragment fade-down">Itâ€™s functional style allows code reuse</p>
                <p class="fragment fade-down">It is extremely fast, supporting large datasets and dynamic behaviors for
                    interaction and animation</p>
            </section>
        </section>
        <section>
            <section>MAIN D3 ENTITIES</section>
            <section>
                <p>Selections</p>
                <p class="fragment fade-down">Enter, Update and Exit</p>
                <p class="fragment fade-down">Scales and Axes</p>
                <p class="fragment fade-down">SVG elements</p>
                <p class="fragment fade-down">Shapes</p>
                <p class="fragment fade-down">Transitions</p>
            </section>
        </section>

        <section>
            <section>SELECTIONS</section>
            <section>
            <pre style="display: inline-block; width: 50%; vertical-align: middle">
                <code data-trim class="stretch">
  <svg>
    <rect/>
    <rect/>
    <rect/>
    <rect/>
    <rect/>
  </svg>
  <script>
    var data = [100, 250, 175, 200, 120];

    d3.selectAll('rect')
      .data(data)
      .attr('x', (d, i) => i * rectWidth)
      .attr('y', d => height - d)
      .attr('width', rectWidth)
      .attr('height', d => d)
      .attr('fill', 'blue')
      .attr('stroke', '#fff');

  </script>

                </code>
            </pre>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/1.png" alt="">
                </div>
            </section>

            <section>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/2.png" alt="" style="border: none;">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <p class="fragment fade-down">5 rectangle elements</p>
                    <p class="fragment fade-down" style="margin: 15px 0">select all rectangle elements that exist</p>
                    <img src="./img/3.png" alt="">
                </div>
            </section>

            <section>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/4.png" alt="" style="border: none;">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <p class="fragment fade-down">"bind" data to the selections</p>
                    <img src="./img/5.png" alt="">
                </div>
            </section>


            <section>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/6.png" alt="" style="border: none;">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <p class="fragment fade-down">Loop through each rectangle selection
                        <br> Get passed in (data, index)</p>
                    <img src="./img/7.png" alt="">
                </div>
            </section>
        </section>

        <section>
            <section>ENTER, UPDATE AND EXIT</section>
            <section>
            <pre style="display: inline-block; width: 50%; vertical-align: middle">
                <code data-trim class="stretch">
  <svg></svg>
  <script>
    var data = [100, 250, 175, 200, 120];

    var svg = d3.select('svg');
    svg.selectAll('rect')
      .data(data)
      .enter().append('rect')
      .attr('x', (d, i) => i * rectWidth)
      .attr('y', d => height - d)
      .attr('width', rectWidth)
      .attr('height', d => d)
      .attr('fill', 'blue')
      .attr('stroke', '#fff');

  </script>

                </code>
            </pre>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/1.png" alt="">
                </div>
            </section>

            <section>
                <div style="display: inline-block; width: 50%; vertical-align: middle">
                    <img src="./img/8.png" alt="" style="border: none;">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <p>No rectangle elements??!</p>
                    <p class="fragment fade-down" style="margin: 15px 0">So what are we even selecting?</p>
                    <p class="fragment fade-down"> - An empty selection</p>
                </div>
            </section>

            <section>
                <div style="display: inline-block; width: 50%; vertical-align: middle">
                    <img src="./img/9.png" alt="" style="border: none;">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <p>"Magic"</p>
                </div>
            </section>


            <section>
                <pre style="display: inline-block; width: 50%; vertical-align: middle">
                    <code data-trim class="stretch">
  <!-- update selection -->
  var bars = svg.selectAll('rect')
    .data(data, d => d);

  <!-- exit -->
  bars.exit().remove();

  <!-- enter -->
  var enter = bars.enter().append('rect')
    .attr('width', rectWidth)
    .attr('stroke', '#fff');

  <!-- enter + update -->
  bars = enter.merge(bars)
    .attr('x', (d, i) => i * rectWidth)
    .attr('y', d => height - d)
    .attr('height', d => d)
    .attr('fill', d => colors(d));
                    </code>
                </pre>
                <div style="display: inline-block; width: 45%;vertical-align: middle;">
                    <p class="fragment fade-down">Key function: controls which datum is assigned to which element</p>
                </div>
            </section>


        </section>


        <section>
            <section>SCALES & AXES</section>
            <section>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
            <pre>
                <code data-trim class="stretch">
    d3.scaleLinear()
    .domain([min, max]) // input
    .range([min, max]); // output

                </code>
            </pre>
                    <p>scale: mapping from

                        data attributes (domain)

                        to display (range)
                    </p>
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/13.png" alt="">
                </div>
            </section>

            <section>
            <pre style="margin: 0;">
                <code data-trim style="line-height: 1;">
<!--get min/max-->
var min = d3.min(data, d => d[city]);
var max = d3.max(data, d => d[city]);

<!--or use extent, which gives back [min, max]-->
var extent = d3.extent(data, d => d[city]);

var yScale = d3.scaleLinear()
  .domain(extent)
  .range([height, 0]);
                </code>
            </pre>

                <p style="margin: 0">Some often used scales:</p>

                <pre style="margin: 0">
                <code data-trim style="line-height: 1;">
d3.scaleLinear() - Constructs a continuous linear scale where we can input
                    data (domain) maps to the specified output (range).
d3.scaleLog()
d3.scaleTime()
d3.scaleBand()
                </code>
            </pre>

            </section>

            <section>
                </pre>
                <pre style="margin: 0;">
                <code data-trim style="line-height: 1;">
var yAxis = d3.axisLeft()
    .scale(yScale); // pass in a scale

d3.select('svg')
    // create a group element we can translate
    // so that the axis will be visible in SVG
    .append('g')
    .attr('transform', 'translate(40, 20)')
    // selection.call(yAxis) is the same as yAxis(selection)
    // and an axis will be created within the selection
    .call(yAxis);
                </code>
            </pre>
                <img src="./img/14.png" alt="" style="border: none; height: 40vh">
            </section>


        </section>

        <section data-id="b024ac32841eb398af18bcf804ab2e4b" class="has-light-background present" style="display: block;">
            <section>SVG ELEMENTS</section>
            <section>
                <div style="display: inline-block; width: 24%; vertical-align: top">
                    <div class="sl-block" data-block-type="shape" style="min-width: 4px; min-height: 4px; width: 160px; height: 160px; left: 68px; top: 190px; display: inline-block; vertical-align: middle; text-align: center" data-block-id="0704811312f05112ce01086fd47a364b">
                        <div class="sl-block-content" data-shape-type="rect" data-shape-fill-color="rgba(0, 0, 0, 0)" data-shape-stretch="true" style="z-index: 11;" data-shape-stroke-color="white" data-shape-stroke-width="2">
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 160 160"><defs><clipPath id="shape-mask-984-1490921716630"><rect width="160" height="160" rx="0" ry="0"></rect></clipPath></defs><rect width="160" height="160" rx="0" ry="0" clip-path="url(#shape-mask-984-1490921716630)" class="shape-element" fill="rgba(0, 0, 0, 0)" stroke="white" stroke-width="4"></rect></svg>
                        </div>
                    </div>
                    <div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; left: 15px; top: 365px;" data-block-id="ac95515fe328cf8a50e3c03461a47d0e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
                        <p><span style="font-size:0.5em"><bold>rect</bold><br>
                        <bold>x</bold><span style="text-align:start">: x-coordinate of top-left</span><br>
                        <bold>y</bold><span style="xtext-align:start">: y-coordinate of top-left</span><br>
                        <bold>width</bold><br>
                        <bold>height</bold></span></p>
                    </div>
                    </div>
                </div>
                <div style="display: inline-block; width: 24%; vertical-align: top">
                    <div class="sl-block" data-block-type="shape" style="min-width: 4px; min-height: 4px; width: 160px; height: 160px; left: 48px; top: 190px; display: inline-block; vertical-align: middle; text-align: center" data-block-id="0704811312f05112ce01086fd47a364b">
                        <div class="sl-block-content" data-shape-type="circle" data-shape-fill-color="rgba(0, 0, 0, 0)" data-shape-stretch="true" style="z-index: 13;" data-shape-stroke-color="white" data-shape-stroke-width="2" data-fragment-index="0">
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 160 160"><defs><clipPath id="shape-mask-985-1490921716634"><ellipse rx="80" ry="80" cx="80" cy="80"></ellipse></clipPath></defs><ellipse rx="80" ry="80" cx="80" cy="80" clip-path="url(#shape-mask-985-1490921716634)" class="shape-element" fill="rgba(0, 0, 0, 0)" stroke="white" stroke-width="4"></ellipse></svg>
                        </div>
                    </div>
                    <div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px;left: 15px; top: 365px;" data-block-id="ac95515fe328cf8a50e3c03461a47d0e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
                        <p><span style="font-size:0.5em"><bold>circle</bold><br>
                            <bold>cx</bold><span style="text-align:start">: x-coordinate of center</span><br>
                            <bold>cy</bold><span style="xtext-align:start">: y-coordinate of center</span><br>
                            <bold>r</bold><span style="xtext-align:start">: radius</span><br>
                        </span></p>
                    </div>
                    </div>
                </div>
                <div style="display: inline-block; width: 24%; vertical-align: top">
                    <div class="sl-block" data-block-type="shape" style="min-width: 4px; min-height: 4px; width: 160px; height: 160px; left: 48px; top: 190px; display: inline-block; vertical-align: middle; text-align: center" data-block-id="0704811312f05112ce01086fd47a364b">
                        <p>Hello!</p>
                    </div>
                    <div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; left: 15px; top: 365px;" data-block-id="ac95515fe328cf8a50e3c03461a47d0e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
                        <p><span style="font-size:0.5em"><strong>text</strong><br>
                            <strong>x</strong><span style="text-align:start">: x-coordinate</span><br>
                            <strong>y</strong><span style="text-align:start">: y-coordinate</span><br>
                            <strong>dx</strong><span style="text-align:start">: x-coordinate offset</span><br>
                            <strong>dy</strong><span style="text-align:start">: y-coordinate offset</span><br>
                            <strong>text-anchor</strong><span style="text-align:start">: horizontal text alignment</span></span>
                        </p>
                    </div>
                    </div>
                </div>
                <div style="display: inline-block; width: 24%; vertical-align: top">
                    <div class="sl-block" data-block-type="shape" style="min-width: 4px; min-height: 4px; width: 160px; height: 160px; top: 190px; display: inline-block; vertical-align: middle; text-align: center" data-block-id="0704811312f05112ce01086fd47a364b">
                        <div class="sl-block-content current-fragment" data-line-x1="3" data-line-y1="180" data-line-x2="163" data-line-y2="20" data-line-color="#000000" data-line-start-type="none" data-line-end-type="none" style="z-index: 17;" data-fragment-index="2">
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="xMidYMid" width="160" height="160" viewBox="3 20 160 160"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="3" y1="180" x2="163" y2="20"></line><line stroke="white" stroke-width="2" x1="3" y1="180" x2="163" y2="20"></line></svg>
                        </div>
                    </div>
                    <div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; left: 15px; top: 365px;" data-block-id="ac95515fe328cf8a50e3c03461a47d0e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
                        <p><span style="font-size:0.5em"><strong>path</strong><br>
                            <strong>d</strong><span style="text-align:start">: path to follow</span></span>
                        </p>
                        <p><span style="font-size:0.5em">Moveto, Lineto, Curveto, Arcto</span></p>
                    </div>
                    </div>
                </div>
            </section>
        </section>

        <section>
            <section>SHAPES</section>
            <section>
                <p>Line -- Generates path data for a multi-segment line (typically for line charts)</p>
                <img src="./img/16.png">
            </section>
            <section>
                <p>Area -- Generates path data for an area</p>
                <img src="./img/17.png">
            </section>
            <section>
                <p>Pie -- Generates pie angle data from array of data</p>
                <img src="./img/18.jpg">
            </section>
            <section>
                <p>Symbol -- Generates path data for symbols such as plus, star, diamond</p>
                <img src="./img/19.png">
            </section>
        </section>

        <section>
            <section>
                TRANSITIONS
                <br>
                <br>
                Emphasize changes in state
            </section>
            <section>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/10.gif" alt="">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <img src="./img/10a.gif" alt="">
                </div>
            </section>

            <section>
                <div style="display: inline-block; width: 50%; vertical-align: middle">
                    <img src="./img/11.png" alt="" style="border: none;">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <p>Define transition, syncs animation everywhere it's used</p>
                    <p class="fragment fade-down" style="margin: 15px 0">Animate height down to 0 before removing</p>
                    <p class="fragment fade-down"> Animate remaining < rect >'s height to their next state</p>
                </div>
            </section>

            <section>
                <div style="display: inline-block; width: 50%; vertical-align: middle">
                    <img src="./img/12.png" alt="" style="border: none;">
                </div>
                <div style="display: inline-block; width: 45%; vertical-align: middle">
                    <p class="fragment fade-down"> Attributes set before .transition(): state <b
                            style="color: red;">A</b> to transition <b style="color: red;">from</b></p>
                    <p class="fragment fade-down"> If attributes not specified for A, d3 extrapolates from default</p>
                    <p class="fragment fade-down"> Everything after .transition(): state <b style="color: red;">B</b> to
                        transition <b style="color: red;">to</b></p>
                </div>
            </section>


        </section>
        <section>
            <img src="./img/thx.gif" alt="">
        </section>

    </div>
</div>

<script src="js/reveal.js"></script>

<script>
  // More info about config & dependencies:
  // - https://github.com/hakimel/reveal.js#configuration
  // - https://github.com/hakimel/reveal.js#dependencies
  Reveal.initialize({
    dependencies: [
      {src: 'plugin/markdown/marked.js'},
      {src: 'plugin/markdown/markdown.js'},
      {src: 'plugin/notes/notes.js', async: true},
      {src: 'plugin/highlight/highlight.js', async: true}
    ]
  });
</script>
</body>
</html>
